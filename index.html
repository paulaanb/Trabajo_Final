<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>replit</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
<script defer src="https://pyscript.net/alpha/pyscript.js"></script>
</head>
content="default">
    <meta name="theme-color" content="#736969">
    <meta name="name" content="MADRID ENCUENTRA TU UNIVERSIDAD">
    
    <title>MADRID ENCUENTRA TU UNIVERSIDAD</title>
    <link rel="icon" type="image/x-icon" href="./logo.png">


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" type="text/css" />
    <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.0/dist/css/widgets.css" type="text/css" />
    <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.0/dist/css/markdown.css" type="text/css" />

    <script type="text/pyscript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script type="text/pyscript" src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script type="text/pyscript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <script type="text/pyscript" src="https://unpkg.com/tabulator-tables@4.9.3/dist/js/tabulator.ps"></script>
    <script type="text/pyscript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.4.2.ps"></script>
    <script type="text/pyscript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.4.2.min.ps"></script>
    <script type="text/pyscript" src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.4.2.min.ps"></script>
    <script type="text/pyscript" src="https://unpkg.com/@holoviz/panel@0.13.0/dist/panel.min.ps"></script>
    <script type="text/pyscript">
      Bokeh.set_log_level("info");
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.0/dist/bundled/bootstraptemplate/bootstrap.css">
    <link rel="stylesheet" href="https://unpkg.com/@holoviz/panel@0.13.0/dist/bundled/defaulttheme/default.css">
<py-env>
  -numpy
  -matplotlib
  -random
  -pandas
</py-env>
<body>
  <div class="container-fluid d-flex flex-column vh-100 overflow-hidden" id="container">
    <nav class="navbar navbar-expand-md navbar-dark sticky-top shadow" id="header" style="background-color: #E1DFDF;">
<button type="button" class="navbar-toggle collapsed" id="sidebarCollapse"></button>
<div class="app-header">
  <a class="navbar-brand app-logo" href="/">
    <img src="./logo.png" class="app-logo">
  </a>
  <a class="title" href="" style="color: #000000;">Universidad Madrid</a>
</div>
  </nav>
import asyncio

import altair as alt
import panel as pn
import pandas as pd
import random as rd
import matplotlib.pyplot as plt
from panel.io.pyodide import show
from sklearn.cluster import KMeans
from pyodide.http import open_url

pn.config.sizing_mode = 'stretch_width'

url = https://raw.githubusercontent.com/paulaanb/Trabajo_Final_Datos/main/EILU_MAST_2019.csv
url1 = https://raw.githubusercontent.com/paulaanb/Trabajo_Final_Datos/main/EILU_GRAD_2019-1.csv
url2 = https://raw.githubusercontent.com/paulaanb/Trabajo_Final_Datos/main/EILU_GRAD_2019-2.csv
url3 = https://raw.githubusercontent.com/paulaanb/Trabajo_Final_Datos/main/EILU_GRAD_2019-3.csv
master = pd.read_csv(open_url(url)).dropna()
grado1 = pd.read_csv(open_url(url1)).dropna()
grado2 = pd.read_csv(open_url(url2)).dropna()
grado3 = pd.read_csv(open_url(url3)).dropna()
columnas = list(master.columns)[2:222]
columnas1 = list(grado1.columns)[2:222]
columnas2 = list(grado2.columns)[2:222]
columnas3 = list(grado3.columns)[2:222]

x = pn.widgets.Select(name='x', options=columnas, value='tipo_de_universidad')
y = pn.widgets.Select(name='y', options=columnas, value='ramas')
numero_de_ramas = pn.widgets.IntSlider(name='numero_de_ramas', start=1, end=10, value=3)

x1 = pn.widgets.Select(name='x', options=columnas1, value='tipo_de_universidad')
y1 = pn.widgets.Select(name='y', options=columnas1, value='ramas')
numero_de_ramas = pn.widgets.IntSlider(name='numero_de_ramas', start=1, end=5, value=3)

x2 = pn.widgets.Select(name='x', options=columnas2, value='tipo_de_universidad')
y2 = pn.widgets.Select(name='y', options=columnas2, value='ramas')
numero_de_ramas = pn.widgets.IntSlider(name='numero_de_ramas', start=1, end=5, value=3)

x3 = pn.widgets.Select(name='x', options=columnas3, value='tipo_de_universidad')
y3 = pn.widgets.Select(name='y', options=columnas3, value='ramas')
numero_de_ramas = pn.widgets.IntSlider(name='numero_de_ramas', start=1, end=5, value=3)

brush = alt.selection_interval(name='brush')  # selection of type "interval"

def get_numero_de_ramas(numero_de_ramas):
    kmeans = KMeans(numero_de_ramas=numero_de_ramas)
    est = kmeans.fit(master[columnas].values)
    df = master.copy()
    df['labels'] = est.labels_.astype('str')
    return df

def get_numero_de_ramas(numero_de_ramas):
    kmeans = KMeans(numero_de_ramas=numero_de_ramas)
    est = kmeans.fit(grado1[columnas1].values)
    df = grado1.copy()
    df['labels'] = est.labels_.astype('str')
    return df

def get_numero_de_ramas(numero_de_ramas):
    kmeans = KMeans(numero_de_ramas=numero_de_ramas)
    est = kmeans.fit(grado2[columnas2].values)
    df = grado2.copy()
    df['labels'] = est.labels_.astype('str')
    return df

def get_numero_de_ramas(numero_de_ramas):
    kmeans = KMeans(numero_de_ramas=numero_de_ramas)
    est = kmeans.fit(grado3[columnas3].values)
    df = grado3.copy()
    df['labels'] = est.labels_.astype('str')
    return df
  <script src="script.js"></script>
</body>

</html>
